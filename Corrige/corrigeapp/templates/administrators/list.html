{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% block content %}
<div class="container">
    <h4 class="centered">{% trans "List of administrator" %}</h4>
    <a style="border-radius:5px" href="{% url 'administrators_create'%}" class="right teal lighten-2 waves-effect waves-light btn-small"><i class="material-icons right">person_add</i>{% trans "Create Administrator" %}</a>
        <table class="highlight">
            <caption></caption>
                <thead>
                    <tr>
                        {% include 'user_tr.html' %}
                    </tr>
                </thead>
                {% for object in administrator_list %}
                    <tbody>
                        <tr class="center">
                            <td><i class="material-icons" style="color:#BBBBBB">account_circle</i></td>
                            <td>{{object.user.last_name}}</td>
                            <td>{{object.user.first_name}}</td>
                            <td>{{object.initials}}</td>
                            <td>{{object.birthdate}}</td>
                            <td>{{object.user.email}}</td>
                            <td class="center dropdown-trigger" onclick="location.href='{% url 'administrators_update' object.pk %}'"><em class="material-icons" style="color:#29b6f6">create</em></td>
                            <td class="center dropdown-trigger modal-trigger" onclick="Delete({{object.pk}})" type="button" href="#modal1"><em class="material-icons" style="color:#e53935">delete</em></td>
                        </tr>
                    </tbody>
                {% endfor %}
            </tbody>
        </table>
{% include 'paginate.html' %}
<a onClick="javascript:history.go(-1);" class="waves-effect waves-light btn pink lighten-2" style="margin-top:55px; margin-bottom:15px;"><i class="material-icons left">arrow_back</i>{% trans "Back" %}</a>

  <!-- Modal Trigger -->


  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
        <div id="top-bot" class="container">
            <form id="deleteForm" method="post">
                {% csrf_token %}
                <h1 class="center title-delete flow-text">{% trans "Are you sure about deleting the administrator " %}<a>{{object.user.first_name}} {{object.user.last_name}}</a>?</h1>

                <div class="center">
                    <a style="border-radius:5px; background-color:#BBBBBB" class="waves-effect waves-light btn-large button-delete modal-close">{% trans "Cancel" %}</a>
                    <button style="border-radius:5px; background-color:#f05060" class="waves-effect waves-light btn-large button-delete delete-yes " type="submit">{% trans "Delete" %}</button>
                </div>
            </form>
        </div>
    </div>
  </div>


<script>
    document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.modal');
    var instances = M.Modal.init(elems);
    });

    function Delete(id){
        document.getElementById('deleteForm').action= id + '/delete';
    }
</script>

{% endblock %}
